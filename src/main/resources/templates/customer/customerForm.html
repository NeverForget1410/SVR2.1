<!DOCTYPE html>
<html lang="pl" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout_page/_layout.html}">
<body>
<div layout:fragment="content">
    <main>
        <div class="container-fluid px-4">
            <ol class="breadcrumb mb-4 mt-4">
                <li class="breadcrumb-item"><a href="/">Strona główna</a></li>
                <li class="breadcrumb-item active"><a href="/api/locations/addressList">Lista adresów</a></li>
                <li class="breadcrumb-item active"
                    th:text="${newOrEditCustomer.idCustomer} != null ? 'Edytuj Klienta' : 'Nowy Klient'"></li>
            </ol>
            <form class="px-4" th:action="@{/api/customer/saveCustomer}" th:object="${newOrEditCustomer}" method="post">
                <input type="hidden" th:field="*{idCustomer}"/>
                <div class="form-group row justify-content-center">
                    <div class="col-md-4">
                        <label for="customerName" class="form-label ">Nazwa ulicy</label>
                        <input type="text" class="form-control" id="customerName" name="addressStreet"
                               th:field="*{customerName}" placeholder="Nazwa klienta" required>
                    </div>
                        <div class="col-md-4 ">
                            <div class="form-group form-label-cent">
                                <label for="idAddress" class="form-label">Adress klienta</label>
                                <select class="form-select" id="idAddress" th:field="*{address.idAddress}" required>
                                    <option value=""></option>
                                    <option th:each="address : ${addressListForCustomer}"
                                            th:value="${address.idAddress}"
                                            th:text="|${address.city.cityName}, ${address.addressStreet} ${address.addressNo}|"></option>
                                </select>

                            </div>
                        </div>
                </div>
                <div class="row justify-content-center mt-4">
                    <div class="form-outline w-50 mb-4">
                        <label class="form-label" for="customerDescryption">Opis lokalizacji</label>
                        <textarea class="form-control" id="customerDescryption" rows="4"
                                  th:field="*{customerDescryption}" placeholder="Opis klienta"></textarea>
                    </div>
                </div>
                <div class="text-center">

                    <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Zapisz</button>
                </div>
            </form>
        </div>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
        if (isLight()) {
            toggleRootClass();
        }

        $('#idAddress').select2({
            placeholder: "Wybierz miasto",
            allowClear: true,
            theme: 'bootstrap-5'
        });
    });
    </script>

</div>
</body>
</html>