<!DOCTYPE html>
<html lang="pl" data-bs-theme="dark" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScaleValidationReminder</title>
    <!--Bootstrap-->
    <link rel="stylesheet" href="/CSS/bootstrap.css">
    <link rel="stylesheet" href="/CSS/bootstrap-grid.css">
    <!--style.css-->
    <link rel="stylesheet" href="/CSS/style.css">
    <!-- Select2 CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet"/>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css"/>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"
            integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" defer></script>
    <!-- Inne skrypty -->
    <script src="https://kit.fontawesome.com/ae360af17e.js" crossorigin="anonymous"></script>
    <script src="/JS/bootstrap.bundle.js"></script>
</head>
<body>
    <div class="wrapper">
        <aside id="sidebar" class="js-sidebar">

            <!-- Menu nawigacyjne lewa strona -->
            <div class="sidebar-content">
                <div class="h-100">
                    <div class="sidebar-logo">
                        <a href="#">ScaleValidationApp</a>
                    </div>
                    <ul class="sidebar-nav">
                        <li class="sidebar-header">
                           Interfejs Użytkownika
                        </li>
<!--                        <li class="sidebar-item">-->
<!--                            <a href="#" class="sidebar-link">-->
<!--                                <i class="fa-solid fa-list pe-2"></i>-->
<!--                                Urządzenia-->
<!--                            </a>-->
<!--                        </li>-->
    <!--                    Dropdown Lokalizacje-->
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link collapsed" data-bs-target="#locations" data-bs-toggle="collapse"
                               aria-expanded="false"><i class="fa-solid fa-location-dot"></i>
                                Lokalizacje
                            </a>
                            <ul id="locations" class="sidebar-dropdown list-unstyled collapse" data-bs-parent="#sidebar">
                                <li class="sidebar-item">
                                    <a href="/api/locations/cityList" class="sidebar-link">Miasta</a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="/api/locations/addressList" class="sidebar-link">Adresy</a>
                                </li>
                            </ul>
                        </li>
     <!--                   Dropdown Urządzenia-->
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link collapsed" data-bs-target="#devices" data-bs-toggle="collapse"
                               aria-expanded="false"><i class="fa-solid fa-list"></i>
                                Urządzenia
                            </a>
                            <ul id="devices" class="sidebar-dropdown list-unstyled collapse" data-bs-parent="#sidebar">
                                <li class="sidebar-item">
                                    <a href="/api/devices/deviceList" class="sidebar-link ml-">Lista urządzeń</a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="/api/manufacturer/manufacturerList" class="sidebar-link">Producenci</a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="/api/devices/deviceModelList" class="sidebar-link">Modele</a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="/api/devices/weightClassList" class="sidebar-link">Klasy ważenia</a>
                                </li>
                            </ul>
                        </li>

                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link collapsed" data-bs-target="#clients" data-bs-toggle="collapse"
                               aria-expanded="false"><i class="fa-regular fa-user pe-2"></i>
                                Klienci
                            </a>
                            <ul id="clients" class="sidebar-dropdown list-unstyled collapse" data-bs-parent="#sidebar">
                                <li class="sidebar-item">
                                    <a href="#" class="sidebar-link">Login</a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="#" class="sidebar-link">Register</a>
                                </li>
                                <li class="sidebar-item">
                                    <a href="#" class="sidebar-link">Forgot Password</a>
                                </li>
                            </ul>
                        </li>
                        <!-- Administracja -->
                        <li class="sidebar-header" sec:authorize="hasRole('ADMIN')" >
                           Administracja
                        </li>
                        <li class="sidebar-item" sec:authorize="hasRole('ADMIN')" >
                            <a href="/api/devices/deviceList" class="sidebar-link collapsed" data-bs-target="#multi" data-bs-toggle="collapse"
                               aria-expanded="false"><i class="fa-solid fa-share-nodes pe-2"></i>
                                XXXXX
                            </a>
                            <ul id="multi" class="sidebar-dropdown list-unstyled collapse" data-bs-parent="#sidebar">
                                <li class="sidebar-item">
                                    <a href="#" class="sidebar-link collapsed" data-bs-target="#level-1"
                                       data-bs-toggle="collapse" aria-expanded="false">Level 1</a>
                                    <ul id="level-1" class="sidebar-dropdown list-unstyled collapse">
                                        <li class="sidebar-item">
                                            <a href="#" class="sidebar-link">Producenci</a>
                                        </li>
                                        <li class="sidebar-item">
                                            <a href="#" class="sidebar-link">Modele</a>
                                        </li>
                                        <li class="sidebar-item">
                                            <a href="#" class="sidebar-link">Klasy ważenia</a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="small">Zalogowano jako: <a th:text="${userName}"></a></div>
            </div>
        </aside>
        <!-- Zawartość strony-->
        <div class="main">
            <!-- Menu górne-->
            <nav class="navbar navbar-expand px-3 border-bottom">
                <button class="btn" id="sidebar-toggle" type="button">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse navbar">
                    <a href="#" class="theme-toggle">
                        <i class="fa-regular fa-moon"></i>
                        <i class="fa-regular fa-sun"></i>
                    </a>
                    <ul class="navbar-nav">
                        <div class="input-group">
                            <input class="form-control" type="text" placeholder="Wyszukaj na stronie" aria-label="Wyszukaj na stronie"
                                   aria-describedby="btnNavbarSearch"/>
                            <button class="btn btn-primary" id="btnNavbarSearch" type="button"><i class="fas fa-search"></i></button>
                        </div>
                        <li class="nav-item dropdown">
                            <a href="#" data-bs-toggle="dropdown" class="nav-link">
                                <i class="fas fa-user fa-fw"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end">
                                <a href="#" class="dropdown-item disabled">Profile</a>
                                <a href="#" class="dropdown-item disabled">Setting</a>
                                <a href="/logout" class="dropdown-item">Logout</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
            <!-- Koontent strony-->
            <main class="content px-3 py-2">
                <div layout:fragment="content" id="layoutSidenav_content">
                </div>
            </main>
<!--            STOPKA-->
            <footer class="footer">
                <div class="container-fluid">
                    <div class="row text-muted">
                        <div class="col-6 text-start">
                            <p class="mb-0">
                                <a href="#" class="text-muted">
                                    <strong>BIZERBA Polska</strong>
                                </a>
                            </p>
                        </div>
                        <div class="col-6 text-end">
                            <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a href="#" class="text-muted">Contact</a>
                                </li>
                                <li class="list-inline-item">
                                    <a href="#" class="text-muted">About Us</a>
                                </li>
                                <li class="list-inline-item">
                                    <a href="#" class="text-muted">Terms</a>
                                </li>
                                <li class="list-inline-item">
                                    <a href="#" class="text-muted">Booking</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"
            crossorigin="anonymous"></script>
    <script src="/JS/script.js"></script>
<!--    Wyszukiwarka na stronie -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const searchInput = document.querySelector('.form-control');
            const tableRows = document.querySelectorAll('.table tbody tr');

            searchInput.addEventListener('input', function () {
                const searchText = searchInput.value.toLowerCase();

                tableRows.forEach(row => {
                    const cells = row.querySelectorAll('td');
                    let found = false;

                    cells.forEach(cell => {
                        const text = cell.textContent.toLowerCase();
                        if (text.includes(searchText)) {
                            found = true;
                        }
                    });

                    if (found) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            });

            //Czyszczenie wyszukiwania
            searchInput.addEventListener('keyup', function (event) {
                if (event.keyCode === 27) {
                    searchInput.value = '';
                    tableRows.forEach(row => {
                        row.style.display = '';
                    });
                }
            });
        });
    </script>
</body>
</html>